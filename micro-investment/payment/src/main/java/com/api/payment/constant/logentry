2024-07-25 14:35:08.387  INFO 2320 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 14:35:08.387  INFO 2320 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-25 14:35:08.392  INFO 2320 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
Inside getAccessToken
===log request start===
URI: {}https://ob.sandbox.natwest.com/token
Method: {}POST
Headers: {}[Accept:"application/json", Content-Type:"application/x-www-form-urlencoded;charset=UTF-8", Content-Length:"162"]
Request body: {}client_id=tyrShHgs3kXzV9uDRa1-c_GBZhxcJQSbckvxmM1mDk4%3D&client_secret=AmWwc7wbqFpt1zwg1hi5rniaGGYVjFOPWPrdbnuzDX0%3D&scope=payments&grant_type=client_credentials
===log request end===
===log response start===
Status code: {}200 OK
Status text: {}
Headers: {}[Content-Type:"application/json;charset=UTF-8", Transfer-Encoding:"chunked", Connection:"keep-alive", Cache-Control:"private, no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", X-Frame-Options:"DENY", Date:"Thu, 25 Jul 2024 09:05:10 GMT", Access-Control-Allow-Origin:"*", Expires:"0"]
===log response end===
Scope : payments
accessTokenResponse : AccessTokenResponse [access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHAiOiJkZW1vLWFwcC0zNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTciLCJvcmciOiIzNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTcuZXhhbXBsZS5vcmciLCJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94Lm5hdHdlc3QuY29tIiwidG9rZW5fdHlwZSI6IkFDQ0VTU19UT0tFTiIsImV4dGVybmFsX2NsaWVudF9pZCI6InR5clNoSGdzM2tYelY5dURSYTEtY19HQlpoeGNKUVNiY2t2eG1NMW1EazQ9IiwiY2xpZW50X2lkIjoiNjdmMDA1MzQtMGQ1ZC00YzdiLThjNzAtZDVlZWViZmVjZWE4IiwibWF4X2FnZSI6ODY0MDAsImF1ZCI6IjY3ZjAwNTM0LTBkNWQtNGM3Yi04YzcwLWQ1ZWVlYmZlY2VhOCIsInNjb3BlIjoicGF5bWVudHMiLCJleHAiOjE3MjE4OTg5MTAsImlhdCI6MTcyMTg5ODMxMCwianRpIjoiZWUxY2MzNDEtNTUyMC00ZGU4LTg1MGUtMDU0YjI3YWZmMzJhIiwidGVuYW50IjoiTmF0V2VzdCJ9.bJruvxK_NxFVQ2OzbLfGHKB26SQA0Q_A0Y_pCAzcGfV988RNYf1rcbd43EosdMfMssBSB2cOucWKPqVBY8PBpGnr7kiPLQhPCCPeVPvXHxrNlNd-qbolQZCEI7RAwjoAqmzCx2u_3KXTsPeB8IFOdZRx827hEicuOr1ArA1Qp2ktt9pVoLCZMIbp_gGd6WHlfO_TYieYwsBo6I5hLrzW_qCoaw3KHQzDabaXZjGFwAmqEuRK0xQwdYtuCFFxKbcGkQf30cpY9F4Ez8ICD1ssKnYTu4Gn5-72ro41-EsaNJ6uwk6yWpFN5qBehfGu3O7fKp834ngwwVx6ehsRSzVxBQ, token_type=Bearer, expires_in=600, dummy=null, scope=payments, id_token=null, refresh_token=null]
Inside getPaymentConsent
===log request start===
URI: {}https://ob.sandbox.natwest.com/open-banking/v3.1/pisp/domestic-payment-consents
Method: {}POST
Headers: {}[Accept:"application/json, application/*+json", Authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHAiOiJkZW1vLWFwcC0zNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTciLCJvcmciOiIzNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTcuZXhhbXBsZS5vcmciLCJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94Lm5hdHdlc3QuY29tIiwidG9rZW5fdHlwZSI6IkFDQ0VTU19UT0tFTiIsImV4dGVybmFsX2NsaWVudF9pZCI6InR5clNoSGdzM2tYelY5dURSYTEtY19HQlpoeGNKUVNiY2t2eG1NMW1EazQ9IiwiY2xpZW50X2lkIjoiNjdmMDA1MzQtMGQ1ZC00YzdiLThjNzAtZDVlZWViZmVjZWE4IiwibWF4X2FnZSI6ODY0MDAsImF1ZCI6IjY3ZjAwNTM0LTBkNWQtNGM3Yi04YzcwLWQ1ZWVlYmZlY2VhOCIsInNjb3BlIjoicGF5bWVudHMiLCJleHAiOjE3MjE4OTg5MTAsImlhdCI6MTcyMTg5ODMxMCwianRpIjoiZWUxY2MzNDEtNTUyMC00ZGU4LTg1MGUtMDU0YjI3YWZmMzJhIiwidGVuYW50IjoiTmF0V2VzdCJ9.bJruvxK_NxFVQ2OzbLfGHKB26SQA0Q_A0Y_pCAzcGfV988RNYf1rcbd43EosdMfMssBSB2cOucWKPqVBY8PBpGnr7kiPLQhPCCPeVPvXHxrNlNd-qbolQZCEI7RAwjoAqmzCx2u_3KXTsPeB8IFOdZRx827hEicuOr1ArA1Qp2ktt9pVoLCZMIbp_gGd6WHlfO_TYieYwsBo6I5hLrzW_qCoaw3KHQzDabaXZjGFwAmqEuRK0xQwdYtuCFFxKbcGkQf30cpY9F4Ez8ICD1ssKnYTu4Gn5-72ro41-EsaNJ6uwk6yWpFN5qBehfGu3O7fKp834ngwwVx6ehsRSzVxBQ", Content-Type:"application/json", x-fapi-financial-id:"0015800000jfwxXAAQ", x-jws-signature:"DUMMY_SIG", x-idempotency-key:"499016f4-fe54-4b76-81a0-a40dfba37140", Content-Length:"712"]
Request body: {}{"scope":null,"Data":{"Permissions":null,"Account":null,"ConsentId":null,"Initiation":{"CreditorAccount":{"Name":"ACME DIY","SchemeName":"IBAN","Identification":"BE56456394728288","SecondaryIdentification":"secondary-identif"},"InstructionIdentification":"instr-identification","InstructedAmount":{"Currency":"GBP","Amount":"50.00"},"RemittanceInformation":{"Reference":"Tools","Unstructured":"Tools"},"EndToEndIdentification":"e2e-identification","DebtorAccount":null},"Status":null,"StatusUpdateDateTime":null,"DomesticPaymentId":null,"CreationDateTime":null,"Debtor":null},"Risk":{"DeliveryAddress":null,"MerchantCustomerIdentification":null,"PaymentContextCode":"EcommerceGoods","MerchantCategoryCode":null}}
===log request end===
===log response start===
Status code: {}201 CREATED
Status text: {}
Headers: {}[Content-Type:"application/json;charset=utf-8", Content-Length:"773", Connection:"keep-alive", x-fapi-interaction-id:"a9a69c69-a679-45c6-a08c-aecfa90f4954", x-jws-signature-in-request-feedback:"{"Code":"400 BadRequest","Id":"4d5dc292-f85d-4138-a014-528f11968553","Message":"Signature validation - Sandbox only error - Impossible to verify signature","Errors":[{"ErrorCode":"UK.OBIE.TBD","Message":"Impossible to find a valid signing Certificate - Most common reason is that your App has not provisioned certificates in the Sandbox Developer Portal and you didn't activate the 'Reduced Security' for this API","Path":"x-jws-signature","Url":null}]}", x-jws-signature:"eyJjcml0IjpbImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvaWF0IiwiaHR0cDovL29wZW5iYW5raW5nLm9yZy51ay9pc3MiLCJodHRwOi8vb3BlbmJhbmtpbmcub3JnLnVrL3RhbiJdLCJhbGciOiJQUzI1NiIsImtpZCI6IjRBZWU0c2RZVU8ySlV3Wkd6ZlpaVy1wWUw2WSIsImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvaWF0IjoxNzIxODk4MzExLCJodHRwOi8vb3BlbmJhbmtpbmcub3JnLnVrL2lzcyI6IjAwMTU4MDAwMDBqZnd4WEFBUSIsImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvdGFuIjoib3BlbmJhbmtpbmcub3JnLnVrIn0..b60MVSknn8IjjiyotOWfIVL2NUp8PB_SmDCIGrZVh0nlAV9Baa-bKFuPDYzXMPDFpaegHzdF-1j5U-CDZZq-BrD8fw_ieS5-z77jH4onEeAdJrnnWXiOmBF-dakNAbemPTwkDevY2kc55OsHYuBcBDF3Lp4TNuhGKb3-mX8GoVks3pO3v5xzFLzZHyszXeI8tnYPG5tBXg_2hHJTaAbVx8NGVuFvfipbfRwM4RMpN7Yjua5wnKgnJvwY7GHOJW0f0DGZVgfGGmRB8H-66tafF0yOf78YvzuLZGfBD8bbIOzi5chad2-qhQHklKAA5nKwX_Rlx7c6bwfVCKdww_ktfw", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"private, no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Date:"Thu, 25 Jul 2024 09:05:11 GMT"]
===log response end===
response : <201,com.natwest.hackathon.paymentapi.beans.response.ConsentResponse@c253838,[Content-Type:"application/json;charset=utf-8", Content-Length:"773", Connection:"keep-alive", x-fapi-interaction-id:"a9a69c69-a679-45c6-a08c-aecfa90f4954", x-jws-signature-in-request-feedback:"{"Code":"400 BadRequest","Id":"4d5dc292-f85d-4138-a014-528f11968553","Message":"Signature validation - Sandbox only error - Impossible to verify signature","Errors":[{"ErrorCode":"UK.OBIE.TBD","Message":"Impossible to find a valid signing Certificate - Most common reason is that your App has not provisioned certificates in the Sandbox Developer Portal and you didn't activate the 'Reduced Security' for this API","Path":"x-jws-signature","Url":null}]}", x-jws-signature:"eyJjcml0IjpbImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvaWF0IiwiaHR0cDovL29wZW5iYW5raW5nLm9yZy51ay9pc3MiLCJodHRwOi8vb3BlbmJhbmtpbmcub3JnLnVrL3RhbiJdLCJhbGciOiJQUzI1NiIsImtpZCI6IjRBZWU0c2RZVU8ySlV3Wkd6ZlpaVy1wWUw2WSIsImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvaWF0IjoxNzIxODk4MzExLCJodHRwOi8vb3BlbmJhbmtpbmcub3JnLnVrL2lzcyI6IjAwMTU4MDAwMDBqZnd4WEFBUSIsImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvdGFuIjoib3BlbmJhbmtpbmcub3JnLnVrIn0..b60MVSknn8IjjiyotOWfIVL2NUp8PB_SmDCIGrZVh0nlAV9Baa-bKFuPDYzXMPDFpaegHzdF-1j5U-CDZZq-BrD8fw_ieS5-z77jH4onEeAdJrnnWXiOmBF-dakNAbemPTwkDevY2kc55OsHYuBcBDF3Lp4TNuhGKb3-mX8GoVks3pO3v5xzFLzZHyszXeI8tnYPG5tBXg_2hHJTaAbVx8NGVuFvfipbfRwM4RMpN7Yjua5wnKgnJvwY7GHOJW0f0DGZVgfGGmRB8H-66tafF0yOf78YvzuLZGfBD8bbIOzi5chad2-qhQHklKAA5nKwX_Rlx7c6bwfVCKdww_ktfw", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"private, no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Date:"Thu, 25 Jul 2024 09:05:11 GMT"]>
consentResponse : com.natwest.hackathon.paymentapi.beans.response.ConsentResponse@c253838
Inside approveConsent
===log request start===
URI: {}https://api.sandbox.natwest.com/authorize?client_id=tyrShHgs3kXzV9uDRa1-c_GBZhxcJQSbckvxmM1mDk4%3D&response_type=code%20id_token&scope=openid%20payments&redirect_uri=https://localhost:8080/&state=ABC&request=6bdf09dc-d3d3-49c0-a9bc-f978cb07df90&authorization_mode=AUTO_POSTMAN&authorization_username=123456789012@3668a8ca-2673-43ed-84e7-4af58e2d75e7.example.org&authorization_account=50000012345601
Method: {}GET
Headers: {}[Accept:"application/json, application/*+json", Content-Length:"0"]
Request body: {}
===log request end===
===log response start===
Status code: {}200 OK
Status text: {}
Headers: {}[Date:"Thu, 25 Jul 2024 09:05:12 GMT", Content-Type:"application/json", Content-Length:"1106", Connection:"keep-alive", X-Application-Context:"consent:logstash,aws,kubernetes:8080", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", Strict-Transport-Security:"max-age=31536000 ; includeSubDomains", X-Frame-Options:"DENY"]
===log response end===
response : <200,ConsentAuthorisationResponse [redirectUri=https://localhost:8080/#code=aaf3fb46-c233-4c98-bb0b-26da513cc816&id_token=eyJhbGciOiJQUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjRBZWU0c2RZVU8ySlV3Wkd6ZlpaVy1wWUw2WSJ9.eyJzdWIiOiI2YmRmMDlkYy1kM2QzLTQ5YzAtYTliYy1mOTc4Y2IwN2RmOTAiLCJhY3IiOiJ1cm46b3BlbmJhbmtpbmc6cHNkMjpzY2EiLCJhdWQiOiJ0eXJTaEhnczNrWHpWOXVEUmExLWNfR0JaaHhjSlFTYmNrdnhtTTFtRGs0PSIsImNfaGFzaCI6InhveHJtaWdiLTNlSkZyYmFRaHFZbFEiLCJvcGVuYmFua2luZ19pbnRlbnRfaWQiOiI2YmRmMDlkYy1kM2QzLTQ5YzAtYTliYy1mOTc4Y2IwN2RmOTAiLCJzX2hhc2giOiJ0ZFFFWEQ5R2I2a2Y0c3hxdm5raktnIiwiYXV0aF90aW1lIjoxNzIxODk4MzEyLCJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94Lm5hdHdlc3QuY29tIiwiZXhwIjoxNzUzNDM0MzEyLCJ0b2tlbl90eXBlIjoiSURfVE9LRU4iLCJpYXQiOjE3MjE4OTgzMTIsImp0aSI6IjUzNzY0ODZjLTgzNTMtNDVlZS1iZmNiLTRjMjViN2I0NzAxZCJ9.J88cCpgdCvVR8gq3fAJdRS49i2O3M4HxF8f8zoAS2GeXCJtGwSpoVIwq1KFXsVsm7lGCqAeyvKzscHufkmSggUnnzQQ2VNY59Lsknf0fPKmNPor_ouoZFzGKqbxafzdLAWJ09gmMNsWM514qKDsrxp9QonQsTsdeSqcwRNwEUdZZ7jIPvIHLfjRbNTTvB9v3b4Q7u-n3fpte4737EphrKCP9eefdQcpnm0izIRRMGxlPE0XJ-mtR1jE1STv5ONeTXPVrqbLewQe_6sXnmgC1f0FO9va7iDhl9tCV3dioGKZ3b_Ue4_AL_cmFq7SHuoYXNdoSgc0LAr_3yLvLB-zKHQ&state=ABC],[Date:"Thu, 25 Jul 2024 09:05:12 GMT", Content-Type:"application/json", Content-Length:"1106", Connection:"keep-alive", X-Application-Context:"consent:logstash,aws,kubernetes:8080", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", Strict-Transport-Security:"max-age=31536000 ; includeSubDomains", X-Frame-Options:"DENY"]>
consentAuthResponse : ConsentAuthorisationResponse [redirectUri=https://localhost:8080/#code=aaf3fb46-c233-4c98-bb0b-26da513cc816&id_token=eyJhbGciOiJQUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjRBZWU0c2RZVU8ySlV3Wkd6ZlpaVy1wWUw2WSJ9.eyJzdWIiOiI2YmRmMDlkYy1kM2QzLTQ5YzAtYTliYy1mOTc4Y2IwN2RmOTAiLCJhY3IiOiJ1cm46b3BlbmJhbmtpbmc6cHNkMjpzY2EiLCJhdWQiOiJ0eXJTaEhnczNrWHpWOXVEUmExLWNfR0JaaHhjSlFTYmNrdnhtTTFtRGs0PSIsImNfaGFzaCI6InhveHJtaWdiLTNlSkZyYmFRaHFZbFEiLCJvcGVuYmFua2luZ19pbnRlbnRfaWQiOiI2YmRmMDlkYy1kM2QzLTQ5YzAtYTliYy1mOTc4Y2IwN2RmOTAiLCJzX2hhc2giOiJ0ZFFFWEQ5R2I2a2Y0c3hxdm5raktnIiwiYXV0aF90aW1lIjoxNzIxODk4MzEyLCJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94Lm5hdHdlc3QuY29tIiwiZXhwIjoxNzUzNDM0MzEyLCJ0b2tlbl90eXBlIjoiSURfVE9LRU4iLCJpYXQiOjE3MjE4OTgzMTIsImp0aSI6IjUzNzY0ODZjLTgzNTMtNDVlZS1iZmNiLTRjMjViN2I0NzAxZCJ9.J88cCpgdCvVR8gq3fAJdRS49i2O3M4HxF8f8zoAS2GeXCJtGwSpoVIwq1KFXsVsm7lGCqAeyvKzscHufkmSggUnnzQQ2VNY59Lsknf0fPKmNPor_ouoZFzGKqbxafzdLAWJ09gmMNsWM514qKDsrxp9QonQsTsdeSqcwRNwEUdZZ7jIPvIHLfjRbNTTvB9v3b4Q7u-n3fpte4737EphrKCP9eefdQcpnm0izIRRMGxlPE0XJ-mtR1jE1STv5ONeTXPVrqbLewQe_6sXnmgC1f0FO9va7iDhl9tCV3dioGKZ3b_Ue4_AL_cmFq7SHuoYXNdoSgc0LAr_3yLvLB-zKHQ&state=ABC]
Inside exchangeCodeForAccessToken
Code : aaf3fb46-c233-4c98-bb0b-26da513cc816
Inside exchangeToken
===log request start===
URI: {}https://ob.sandbox.natwest.com/token
Method: {}POST
Headers: {}[Accept:"application/json", Content-Type:"application/x-www-form-urlencoded;charset=UTF-8", Content-Length:"236"]
Request body: {}client_id=tyrShHgs3kXzV9uDRa1-c_GBZhxcJQSbckvxmM1mDk4%3D&client_secret=AmWwc7wbqFpt1zwg1hi5rniaGGYVjFOPWPrdbnuzDX0%3D&code=aaf3fb46-c233-4c98-bb0b-26da513cc816&grant_type=authorization_code&redirect_uri=https%3A%2F%2Flocalhost%3A8080%2F
===log request end===
===log response start===
Status code: {}200 OK
Status text: {}
Headers: {}[Content-Type:"application/json;charset=UTF-8", Transfer-Encoding:"chunked", Connection:"keep-alive", Cache-Control:"private, no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", X-Frame-Options:"DENY", Date:"Thu, 25 Jul 2024 09:05:13 GMT", Access-Control-Allow-Origin:"*", Expires:"0"]
===log response end===
Scope : payments openid
exgToken : AccessTokenResponse [access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHAiOiJkZW1vLWFwcC0zNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTciLCJvcmciOiIzNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTcuZXhhbXBsZS5vcmciLCJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94Lm5hdHdlc3QuY29tIiwidG9rZW5fdHlwZSI6IkFDQ0VTU19UT0tFTiIsImV4dGVybmFsX2NsaWVudF9pZCI6InR5clNoSGdzM2tYelY5dURSYTEtY19HQlpoeGNKUVNiY2t2eG1NMW1EazQ9IiwiY2xpZW50X2lkIjoiNjdmMDA1MzQtMGQ1ZC00YzdiLThjNzAtZDVlZWViZmVjZWE4IiwibWF4X2FnZSI6ODY0MDAsImF1ZCI6IjY3ZjAwNTM0LTBkNWQtNGM3Yi04YzcwLWQ1ZWVlYmZlY2VhOCIsInVzZXJfaWQiOiIxMjM0NTY3ODkwMTJAMzY2OGE4Y2EtMjY3My00M2VkLTg0ZTctNGFmNThlMmQ3NWU3LmV4YW1wbGUub3JnIiwiZ3JhbnRfaWQiOiIwZjQ3MmExZC0yNGVmLTQ0NzktOWM3YS04NzI5MWI1YzI4YjciLCJzY29wZSI6InBheW1lbnRzIG9wZW5pZCIsImNvbnNlbnRfcmVmZXJlbmNlIjoiMTU2OGY3MGItNzNjNy00ZDdmLTlmMGMtYzhhMGI0NzA4MjQ2IiwiZXhwIjoxNzIxODk4OTEzLCJpYXQiOjE3MjE4OTgzMTMsImp0aSI6ImE3OWI1NjM0LWVjZWMtNDE4NC1hNGEwLWRkODM1NTZjMGRhYyIsInRlbmFudCI6Ik5hdFdlc3QifQ.i_yDXDYJ7G5jCO-tm-agLfHaUnMisKphCt1KEgOIkfOynMNwGoR3jHoiCt9tg5OxAZAqfRoV46lzAgEfpEMLSVLUCX6gw4E2J8hH51_ysyB-_VS2a-hDqKuVYB5klfFckvQHrfpVWjGkXURhehFoYHH0lhBCzQUf1ltPhZZbiCxITSRQAaOYhn11j4kMPHS5cOoGJsoEdeXkC9Q3mSt3ulmvSTgs5NOgURa21NoV2cV8NScRXGd4yuKsjpkbFP-U5BngEEI3w68W0cFRuIcuPATevjgl55BZCPFWzvmasmZRPqG-jw11jVDe58VT-mV8DEOYhreUITs8k0hWfq8Ryw, token_type=Bearer, expires_in=600, dummy=null, scope=payments openid, id_token=eyJhbGciOiJQUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjRBZWU0c2RZVU8ySlV3Wkd6ZlpaVy1wWUw2WSJ9.eyJzdWIiOiI2YmRmMDlkYy1kM2QzLTQ5YzAtYTliYy1mOTc4Y2IwN2RmOTAiLCJhY3IiOiJ1cm46b3BlbmJhbmtpbmc6cHNkMjpzY2EiLCJhdWQiOiJ0eXJTaEhnczNrWHpWOXVEUmExLWNfR0JaaHhjSlFTYmNrdnhtTTFtRGs0PSIsImNfaGFzaCI6InhveHJtaWdiLTNlSkZyYmFRaHFZbFEiLCJvcGVuYmFua2luZ19pbnRlbnRfaWQiOiI2YmRmMDlkYy1kM2QzLTQ5YzAtYTliYy1mOTc4Y2IwN2RmOTAiLCJzX2hhc2giOiJ0ZFFFWEQ5R2I2a2Y0c3hxdm5raktnIiwiYXV0aF90aW1lIjoxNzIxODk4MzEyLCJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94Lm5hdHdlc3QuY29tIiwiZXhwIjoxNzUzNDM0MzEyLCJ0b2tlbl90eXBlIjoiSURfVE9LRU4iLCJpYXQiOjE3MjE4OTgzMTIsImp0aSI6IjUzNzY0ODZjLTgzNTMtNDVlZS1iZmNiLTRjMjViN2I0NzAxZCJ9.J88cCpgdCvVR8gq3fAJdRS49i2O3M4HxF8f8zoAS2GeXCJtGwSpoVIwq1KFXsVsm7lGCqAeyvKzscHufkmSggUnnzQQ2VNY59Lsknf0fPKmNPor_ouoZFzGKqbxafzdLAWJ09gmMNsWM514qKDsrxp9QonQsTsdeSqcwRNwEUdZZ7jIPvIHLfjRbNTTvB9v3b4Q7u-n3fpte4737EphrKCP9eefdQcpnm0izIRRMGxlPE0XJ-mtR1jE1STv5ONeTXPVrqbLewQe_6sXnmgC1f0FO9va7iDhl9tCV3dioGKZ3b_Ue4_AL_cmFq7SHuoYXNdoSgc0LAr_3yLvLB-zKHQ, refresh_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHAiOiJkZW1vLWFwcC0zNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTciLCJvcmciOiIzNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTcuZXhhbXBsZS5vcmciLCJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94Lm5hdHdlc3QuY29tIiwidG9rZW5fdHlwZSI6IlJFRlJFU0hfVE9LRU4iLCJleHRlcm5hbF9jbGllbnRfaWQiOiJ0eXJTaEhnczNrWHpWOXVEUmExLWNfR0JaaHhjSlFTYmNrdnhtTTFtRGs0PSIsImNsaWVudF9pZCI6IjY3ZjAwNTM0LTBkNWQtNGM3Yi04YzcwLWQ1ZWVlYmZlY2VhOCIsIm1heF9hZ2UiOjg2NDAwLCJhdWQiOiI2N2YwMDUzNC0wZDVkLTRjN2ItOGM3MC1kNWVlZWJmZWNlYTgiLCJ1c2VyX2lkIjoiMTIzNDU2Nzg5MDEyQDM2NjhhOGNhLTI2NzMtNDNlZC04NGU3LTRhZjU4ZTJkNzVlNy5leGFtcGxlLm9yZyIsImdyYW50X2lkIjoiMGY0NzJhMWQtMjRlZi00NDc5LTljN2EtODcyOTFiNWMyOGI3Iiwic2NvcGUiOiJwYXltZW50cyBvcGVuaWQiLCJjb25zZW50X3JlZmVyZW5jZSI6IjE1NjhmNzBiLTczYzctNGQ3Zi05ZjBjLWM4YTBiNDcwODI0NiIsImlhdCI6MTcyMTg5ODMxMywianRpIjoiYWU1Y2NhYWEtZGM2NS00OTVhLThiYzgtNTkzYTZiZDgwYTRkIiwidGVuYW50IjoiTmF0V2VzdCJ9.xLnSjIAtKbqdVTzKfx7AVDZVXEi5ohK6SvNwFJwJo4X6X5AJx67dBYLT6fQhuZqg7GRChpfA0N6b0TeGfoArp7URQ1l4AdZH9ZYhUJL0s2RPRvLuArSwwgJd-HPsjoGIS9U0zMp5neuQaE4tjmuB2xUwgWk5tanuUzlXbcGOzvlGwBSrTY6hqMq_6PKT2oSRsdJMmz9xAXvpxyDLNGAqoWsUHW9PDfcAvGMQUv-NtJRvy1Mabf2ND8GxBn7iyBls065C8lakByagRHiJTdxdUum2KCOkOmHI9Hz3YF7ozO_R_CAsu6KT2XhbRzvWVEaLyfHcemWV1oC5h-vRDPfQDg]
Inside postDomesticPayment
===log request start===
URI: {}https://ob.sandbox.natwest.com/open-banking/v3.1/pisp/domestic-payments
Method: {}POST
Headers: {}[Accept:"application/json, application/*+json", Authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHAiOiJkZW1vLWFwcC0zNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTciLCJvcmciOiIzNjY4YThjYS0yNjczLTQzZWQtODRlNy00YWY1OGUyZDc1ZTcuZXhhbXBsZS5vcmciLCJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94Lm5hdHdlc3QuY29tIiwidG9rZW5fdHlwZSI6IkFDQ0VTU19UT0tFTiIsImV4dGVybmFsX2NsaWVudF9pZCI6InR5clNoSGdzM2tYelY5dURSYTEtY19HQlpoeGNKUVNiY2t2eG1NMW1EazQ9IiwiY2xpZW50X2lkIjoiNjdmMDA1MzQtMGQ1ZC00YzdiLThjNzAtZDVlZWViZmVjZWE4IiwibWF4X2FnZSI6ODY0MDAsImF1ZCI6IjY3ZjAwNTM0LTBkNWQtNGM3Yi04YzcwLWQ1ZWVlYmZlY2VhOCIsInVzZXJfaWQiOiIxMjM0NTY3ODkwMTJAMzY2OGE4Y2EtMjY3My00M2VkLTg0ZTctNGFmNThlMmQ3NWU3LmV4YW1wbGUub3JnIiwiZ3JhbnRfaWQiOiIwZjQ3MmExZC0yNGVmLTQ0NzktOWM3YS04NzI5MWI1YzI4YjciLCJzY29wZSI6InBheW1lbnRzIG9wZW5pZCIsImNvbnNlbnRfcmVmZXJlbmNlIjoiMTU2OGY3MGItNzNjNy00ZDdmLTlmMGMtYzhhMGI0NzA4MjQ2IiwiZXhwIjoxNzIxODk4OTEzLCJpYXQiOjE3MjE4OTgzMTMsImp0aSI6ImE3OWI1NjM0LWVjZWMtNDE4NC1hNGEwLWRkODM1NTZjMGRhYyIsInRlbmFudCI6Ik5hdFdlc3QifQ.i_yDXDYJ7G5jCO-tm-agLfHaUnMisKphCt1KEgOIkfOynMNwGoR3jHoiCt9tg5OxAZAqfRoV46lzAgEfpEMLSVLUCX6gw4E2J8hH51_ysyB-_VS2a-hDqKuVYB5klfFckvQHrfpVWjGkXURhehFoYHH0lhBCzQUf1ltPhZZbiCxITSRQAaOYhn11j4kMPHS5cOoGJsoEdeXkC9Q3mSt3ulmvSTgs5NOgURa21NoV2cV8NScRXGd4yuKsjpkbFP-U5BngEEI3w68W0cFRuIcuPATevjgl55BZCPFWzvmasmZRPqG-jw11jVDe58VT-mV8DEOYhreUITs8k0hWfq8Ryw", Content-Type:"application/json", x-fapi-financial-id:"0015800000jfwxXAAQ", x-jws-signature:"DUMMY_SIG", x-idempotency-key:"dd82283a-98ac-42f4-a3de-9fca35cc64e1", Content-Length:"746"]
Request body: {}{"scope":null,"Data":{"Permissions":null,"Account":null,"ConsentId":"6bdf09dc-d3d3-49c0-a9bc-f978cb07df90","Initiation":{"CreditorAccount":{"Name":"ACME DIY","SchemeName":"IBAN","Identification":"BE56456394728288","SecondaryIdentification":"secondary-identif"},"InstructionIdentification":"instr-identification","InstructedAmount":{"Currency":"GBP","Amount":"50.00"},"RemittanceInformation":{"Reference":"Tools","Unstructured":"Tools"},"EndToEndIdentification":"e2e-identification","DebtorAccount":null},"Status":null,"StatusUpdateDateTime":null,"DomesticPaymentId":null,"CreationDateTime":null,"Debtor":null},"Risk":{"DeliveryAddress":null,"MerchantCustomerIdentification":null,"PaymentContextCode":"EcommerceGoods","MerchantCategoryCode":null}}
===log request end===
===log response start===
Status code: {}201 CREATED
Status text: {}
Headers: {}[Content-Type:"application/json;charset=utf-8", Content-Length:"882", Connection:"keep-alive", x-fapi-interaction-id:"46809dce-8603-4d2c-8496-a62f69b750c2", x-jws-signature-in-request-feedback:"{"Code":"400 BadRequest","Id":"efc39daa-a0ef-4bf9-9d0e-066625160f59","Message":"Signature validation - Sandbox only error - Impossible to verify signature","Errors":[{"ErrorCode":"UK.OBIE.TBD","Message":"Impossible to find a valid signing Certificate - Most common reason is that your App has not provisioned certificates in the Sandbox Developer Portal and you didn't activate the 'Reduced Security' for this API","Path":"x-jws-signature","Url":null}]}", x-jws-signature:"eyJjcml0IjpbImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvaWF0IiwiaHR0cDovL29wZW5iYW5raW5nLm9yZy51ay9pc3MiLCJodHRwOi8vb3BlbmJhbmtpbmcub3JnLnVrL3RhbiJdLCJhbGciOiJQUzI1NiIsImtpZCI6IjRBZWU0c2RZVU8ySlV3Wkd6ZlpaVy1wWUw2WSIsImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvaWF0IjoxNzIxODk4MzE0LCJodHRwOi8vb3BlbmJhbmtpbmcub3JnLnVrL2lzcyI6IjAwMTU4MDAwMDBqZnd4WEFBUSIsImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvdGFuIjoib3BlbmJhbmtpbmcub3JnLnVrIn0..tEcJmlIlsmyxqxwy7arEiXTyhH90QO1-MM74r1m04-cHWbn7qXxNx_jGd3Dr02v_bWtLYsY2n5iIo2JmHX9EB3HmG4lcDsRW4c5NvQXvpgv6PVgPi6UFPX4UrDrQkQgkuybw_I1q9MKp7WhkG34tD7zzrsX7wiF5G9FQdurHzAQq7WCBpLRjyyAJPgl-FJ3syF0QuqEJiFfeOU1M1gp6TgS7hSGmVSijb6XwogMi-rHGIOhC-Zwxg_5AS9Uj6R2XZ-iLu7SVlo3b5-EQmxLsYIjzmnO0GgHymLDLtFnZrwGx5yFUq_6A7BKfWOUXjoDcjMiHYSQYZFxRw7J8GLxrPw", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"private, no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Date:"Thu, 25 Jul 2024 09:05:14 GMT"]
===log response end===
DomesticPayment ID : 6bdf09dc-d3d3-49c0-a9bc-f978cb07df90
Payment status : AcceptedSettlementInProcess
response : <201,com.natwest.hackathon.paymentapi.beans.response.ConsentResponse@d66b481,[Content-Type:"application/json;charset=utf-8", Content-Length:"882", Connection:"keep-alive", x-fapi-interaction-id:"46809dce-8603-4d2c-8496-a62f69b750c2", x-jws-signature-in-request-feedback:"{"Code":"400 BadRequest","Id":"efc39daa-a0ef-4bf9-9d0e-066625160f59","Message":"Signature validation - Sandbox only error - Impossible to verify signature","Errors":[{"ErrorCode":"UK.OBIE.TBD","Message":"Impossible to find a valid signing Certificate - Most common reason is that your App has not provisioned certificates in the Sandbox Developer Portal and you didn't activate the 'Reduced Security' for this API","Path":"x-jws-signature","Url":null}]}", x-jws-signature:"eyJjcml0IjpbImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvaWF0IiwiaHR0cDovL29wZW5iYW5raW5nLm9yZy51ay9pc3MiLCJodHRwOi8vb3BlbmJhbmtpbmcub3JnLnVrL3RhbiJdLCJhbGciOiJQUzI1NiIsImtpZCI6IjRBZWU0c2RZVU8ySlV3Wkd6ZlpaVy1wWUw2WSIsImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvaWF0IjoxNzIxODk4MzE0LCJodHRwOi8vb3BlbmJhbmtpbmcub3JnLnVrL2lzcyI6IjAwMTU4MDAwMDBqZnd4WEFBUSIsImh0dHA6Ly9vcGVuYmFua2luZy5vcmcudWsvdGFuIjoib3BlbmJhbmtpbmcub3JnLnVrIn0..tEcJmlIlsmyxqxwy7arEiXTyhH90QO1-MM74r1m04-cHWbn7qXxNx_jGd3Dr02v_bWtLYsY2n5iIo2JmHX9EB3HmG4lcDsRW4c5NvQXvpgv6PVgPi6UFPX4UrDrQkQgkuybw_I1q9MKp7WhkG34tD7zzrsX7wiF5G9FQdurHzAQq7WCBpLRjyyAJPgl-FJ3syF0QuqEJiFfeOU1M1gp6TgS7hSGmVSijb6XwogMi-rHGIOhC-Zwxg_5AS9Uj6R2XZ-iLu7SVlo3b5-EQmxLsYIjzmnO0GgHymLDLtFnZrwGx5yFUq_6A7BKfWOUXjoDcjMiHYSQYZFxRw7J8GLxrPw", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"private, no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Date:"Thu, 25 Jul 2024 09:05:14 GMT"]>
